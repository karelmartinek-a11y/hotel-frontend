{% extends "base.html" %}

{% block title %}KájovoHotel — Obnova hesla{% endblock %}

{% block head_extra %}
  <link rel="stylesheet" href="/static/hotel-webapp.css" />
{% endblock %}

{% block content %}
<div class="hotel-auth">
  <div class="hotel-auth__card">
    <div class="hotel-auth__head">
      <img
        src="{{ url_for('static', path='brand/icon.png') }}"
        alt="KájovoHotel"
        class="hotel-auth__icon"
        loading="eager"
        decoding="async"
      />
      <div style="min-width:0;">
        <div class="hotel-auth__title">KájovoHotel — Obnova hesla</div>
        <div class="hotel-auth__subtitle">Zadejte nové heslo</div>
      </div>
    </div>

    {% if error %}
      <div class="hotel-auth__error" role="alert">{{ error }}</div>
    {% endif %}

    {% if success %}
      <div class="kajovo-alert kajovo-alert--success" role="status">{{ success }}</div>
      <div class="h-4"></div>
    {% endif %}

    <form method="post" action="/app/password-reset" class="kajovo-form" autocomplete="off">
      <input type="hidden" name="csrf_token" value="{{ csrf_token }}" />
      <input type="hidden" name="token" value="{{ token }}" />

      <div class="kajovo-field">
        <label for="password">Nové heslo</label>
        <input id="password" type="password" name="password" required minlength="8" placeholder="Zadejte nové heslo" autocomplete="new-password" />
      </div>

      <button type="submit" class="kajovo-btn kajovo-btn--primary kajovo-btn--block">Uložit nové heslo</button>

      <div class="hotel-auth__hint">
        Po úspěšném uložení se můžete znovu přihlásit.
      </div>
    </form>
  </div>
</div>
{% endblock %}
